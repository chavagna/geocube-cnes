package grid_test

import (
	"context"
	"encoding/json"
	"fmt"
	"sort"
	"strconv"

	"github.com/airbusgeo/geocube/internal/utils/grid"
	. "github.com/onsi/ginkgo"
	. "github.com/onsi/gomega"

	"github.com/airbusgeo/godal"
	"github.com/twpayne/go-geom"
	geomGeojson "github.com/twpayne/go-geom/encoding/geojson"
	"github.com/twpayne/go-geom/encoding/wkb"
)

func toMultiPolygon(c [][2]float64) *geom.MultiPolygon {
	coords := make([]geom.Coord, len(c))
	for i, pt := range c {
		coords[i] = geom.Coord([]float64{pt[0], pt[1]})
	}
	g := geom.NewMultiPolygon(geom.XY)
	g.SetCoords([][][]geom.Coord{{coords}})
	return g
}

func createRegularGrid(cellSize, resolution, ox, oy, memoryLimit int) (grid.Grid, error) {
	params := map[string]string{
		"grid":       "regular",
		"crs":        "32631",
		"cell_size":  strconv.Itoa(cellSize),
		"resolution": strconv.Itoa(resolution),
		"ox":         strconv.Itoa(ox),
		"oy":         strconv.Itoa(oy)}
	if memoryLimit > 0 {
		params["memory_limit"] = strconv.Itoa(memoryLimit)
	}
	return grid.NewGrid([]string{}, params)
}

var _ = Describe("Regular Grid", func() {

	var (
		ctx           = context.Background()
		returnedError error
		cellsURIs     = [][]string{
			{"23/-161", "23/-162", "23/-163", "24/-161", "24/-162", "24/-163", "25/-161", "25/-162", "25/-163"},
			{"0/-1", "0/0", "0/1", "0/2", "1/-1", "1/0", "1/1", "1/2", "2/-1", "2/0", "2/1", "2/2"},
			{"-1/-130", "-1/-131", "-1/-132", "-1/-133", "-2/-131", "-2/-132", "-2/-133", "0/-130", "0/-131", "0/-132", "0/-133", "1/-129", "1/-130", "1/-131", "1/-132", "1/-133", "10/-115", "10/-116", "10/-117", "10/-118", "10/-119", "10/-120", "10/-121", "10/-122", "10/-123", "10/-124", "10/-125", "10/-126", "10/-127", "10/-128", "10/-129", "10/-130", "10/-131", "10/-132", "10/-133", "10/-134", "10/-135", "10/-136", "10/-137", "10/-138", "10/-139", "11/-115", "11/-116", "11/-117", "11/-118", "11/-119", "11/-120", "11/-121", "11/-122", "11/-123", "11/-124", "11/-125", "11/-126", "11/-127", "11/-128", "11/-129", "11/-130", "11/-131", "11/-132", "11/-133", "11/-134", "11/-135", "11/-136", "11/-137", "11/-138", "11/-139", "12/-115", "12/-116", "12/-117", "12/-118", "12/-119", "12/-120", "12/-121", "12/-122", "12/-123", "12/-124", "12/-125", "12/-126", "12/-127", "12/-128", "12/-129", "12/-130", "12/-131", "12/-132", "12/-133", "12/-134", "12/-135", "12/-136", "12/-137", "12/-138", "13/-117", "13/-118", "13/-119", "13/-120", "13/-121", "13/-122", "13/-123", "13/-124", "13/-125", "13/-126", "13/-127", "13/-128", "13/-129", "13/-130", "13/-131", "13/-132", "13/-133", "13/-134", "13/-135", "13/-136", "13/-137", "14/-117", "14/-118", "14/-119", "14/-120", "14/-121", "14/-122", "14/-123", "14/-124", "14/-125", "14/-126", "14/-127", "14/-128", "14/-129", "14/-130", "14/-131", "14/-132", "14/-133", "14/-134", "14/-135", "14/-136", "15/-118", "15/-119", "15/-120", "15/-121", "15/-122", "15/-123", "15/-124", "15/-125", "15/-126", "15/-127", "15/-128", "15/-129", "15/-130", "15/-131", "15/-132", "15/-133", "15/-134", "15/-135", "15/-136", "16/-118", "16/-119", "16/-120", "16/-121", "16/-122", "16/-123", "16/-124", "16/-125", "16/-126", "16/-127", "16/-128", "16/-129", "16/-130", "16/-131", "16/-132", "16/-133", "16/-134", "16/-135", "17/-117", "17/-118", "17/-119", "17/-120", "17/-121", "17/-122", "17/-123", "17/-124", "17/-125", "17/-126", "17/-127", "17/-128", "17/-129", "17/-130", "17/-131", "17/-132", "17/-133", "17/-134", "18/-117", "18/-118", "18/-119", "18/-120", "18/-121", "18/-122", "18/-123", "18/-124", "18/-125", "18/-126", "18/-127", "18/-128", "18/-129", "18/-130", "18/-131", "18/-132", "18/-133", "18/-134", "19/-117", "19/-118", "19/-119", "19/-120", "19/-121", "19/-122", "19/-123", "19/-124", "19/-125", "19/-126", "19/-128", "19/-129", "19/-130", "19/-131", "19/-132", "19/-133", "19/-134", "2/-117", "2/-118", "2/-119", "2/-127", "2/-128", "2/-129", "2/-130", "2/-131", "2/-132", "2/-133", "20/-118", "20/-119", "20/-120", "20/-123", "20/-129", "20/-130", "20/-131", "20/-132", "20/-133", "20/-134", "21/-119", "21/-120", "21/-133", "23/-113", "23/-114", "23/-115", "23/-116", "24/-113", "24/-114", "24/-115", "24/-116", "24/-117", "25/-113", "25/-114", "25/-115", "25/-116", "25/-117", "3/-117", "3/-118", "3/-119", "3/-120", "3/-121", "3/-122", "3/-123", "3/-126", "3/-127", "3/-128", "3/-129", "3/-130", "3/-131", "3/-132", "3/-133", "3/-134", "3/-135", "4/-116", "4/-117", "4/-118", "4/-119", "4/-120", "4/-121", "4/-122", "4/-123", "4/-124", "4/-125", "4/-126", "4/-127", "4/-128", "4/-129", "4/-130", "4/-131", "4/-132", "4/-133", "4/-134", "4/-135", "5/-116", "5/-117", "5/-118", "5/-119", "5/-120", "5/-121", "5/-122", "5/-123", "5/-124", "5/-125", "5/-126", "5/-127", "5/-128", "5/-129", "5/-130", "5/-131", "5/-132", "5/-133", "5/-134", "5/-135", "6/-116", "6/-117", "6/-118", "6/-119", "6/-120", "6/-121", "6/-122", "6/-123", "6/-124", "6/-125", "6/-126", "6/-127", "6/-128", "6/-129", "6/-130", "6/-131", "6/-132", "6/-133", "6/-134", "6/-135", "7/-116", "7/-117", "7/-118", "7/-119", "7/-120", "7/-121", "7/-122", "7/-123", "7/-124", "7/-125", "7/-126", "7/-127", "7/-128", "7/-129", "7/-130", "7/-131", "7/-132", "7/-133", "7/-134", "7/-135", "8/-115", "8/-116", "8/-117", "8/-118", "8/-119", "8/-120", "8/-121", "8/-122", "8/-123", "8/-124", "8/-125", "8/-126", "8/-127", "8/-128", "8/-129", "8/-130", "8/-131", "8/-132", "8/-133", "8/-134", "8/-135", "8/-136", "9/-115", "9/-116", "9/-117", "9/-118", "9/-119", "9/-120", "9/-121", "9/-122", "9/-123", "9/-124", "9/-125", "9/-126", "9/-127", "9/-128", "9/-129", "9/-130", "9/-131", "9/-132", "9/-133", "9/-134", "9/-135", "9/-136", "9/-137", "9/-138"},
		}
		jsonWanteds = []string{
			`{"type":"MultiPolygon","coordinates":[[[[5.5921255873,44.360661416],[5.6044034715,44.6369401725],[5.9912432179,44.627456173],[5.9771478208,44.3512678315],[5.5921255873,44.360661416]]],[[[5.6044034715,44.6369401725],[5.6168591043,44.9132028014],[6.0055425862,44.9036275336],[5.9912432179,44.627456173],[5.6044034715,44.6369401725]]],[[[5.6168591043,44.9132028014],[5.6294956218,45.1894492505],[6.0200495221,45.1797818447],[6.0055425862,44.9036275336],[5.6168591043,44.9132028014]]],[[[5.9771478208,44.3512678315],[5.9912432179,44.627456173],[6.3778790075,44.6166643954],[6.3619696059,44.3405789014],[5.9771478208,44.3512678315]]],[[[5.9912432179,44.627456173],[6.0055425862,44.9036275336],[6.3940185156,44.8927319391],[6.3778790075,44.6166643954],[5.9912432179,44.627456173]]],[[[6.0055425862,44.9036275336],[6.0200495221,45.1797818447],[6.4103921836,45.1687814449],[6.3940185156,44.8927319391],[6.0055425862,44.9036275336]]],[[[6.3619696059,44.3405789014],[6.3778790075,44.6166643954],[6.7642847073,44.6045668051],[6.7465652554,44.3285965587],[6.3619696059,44.3405789014]]],[[[6.3778790075,44.6166643954],[6.3940185156,44.8927319391],[6.782260302,44.8805180162],[6.7642847073,44.6045668051],[6.3778790075,44.6166643954]]],[[[6.3940185156,44.8927319391],[6.4103921836,45.1687814449],[6.8004965473,45.1564500832],[6.782260302,44.8805180162],[6.3940185156,44.8927319391]]]]}`,

			`{"type":"MultiPolygon","coordinates":[[[[5.799994245,45.0999940043],[5.813602916,45.3761893404],[6.2053732126,45.3658574327],[6.1898770239,45.0897605517],[5.799994245,45.0999940043]]],[[[5.7865807609,44.823782073],[5.799994245,45.0999940043],[6.1898770239,45.0897605517],[6.1746029897,44.8136461403],[5.7865807609,44.823782073]]],[[[5.7733590636,44.547553606],[5.7865807609,44.823782073],[6.1746029897,44.8136461403],[6.1595472432,44.5375142757],[5.7733590636,44.547553606]]],[[[5.7603258362,44.2713086627],[5.7733590636,44.547553606],[6.1595472432,44.5375142757],[6.144706012,44.2613650348],[5.7603258362,44.2713086627]]],[[[6.1898770239,45.0897605517],[6.2053732126,45.3658574327],[6.5969174072,45.354184594],[6.5795376647,45.0781989039],[6.1898770239,45.0897605517]]],[[[6.1746029897,44.8136461403],[6.1898770239,45.0897605517],[6.5795376647,45.0781989039],[6.5624069467,44.8021946282],[6.1746029897,44.8136461403]]],[[[6.1595472432,44.5375142757],[6.1746029897,44.8136461403],[6.5624069467,44.8021946282],[6.5455209226,44.5261718644],[6.1595472432,44.5375142757]]],[[[6.144706012,44.2613650348],[6.1595472432,44.5375142757],[6.5455209226,44.5261718644],[6.5288753678,44.250130709],[6.144706012,44.2613650348]]],[[[6.5795376647,45.0781989039],[6.5969174072,45.354184594],[6.9882081563,45.3411729905],[6.9689492991,45.0653111909],[6.5795376647,45.0781989039]]],[[[6.5624069467,44.8021946282],[6.5795376647,45.0781989039],[6.9689492991,45.0653111909],[6.9499662274,44.7894296316],[6.5624069467,44.8021946282]]],[[[6.5455209226,44.5261718644],[6.5624069467,44.8021946282],[6.9499662274,44.7894296316],[6.93125415,44.5135284325],[6.5455209226,44.5261718644]]],[[[6.5288753678,44.250130709],[6.5455209226,44.5261718644],[6.93125415,44.5135284325],[6.9128083929,44.2376077119],[6.5288753678,44.250130709]]]]}`,

			`{"type":"MultiPolygon","coordinates":[[[[-4.1820474806,47.482516483],[-4.2326467218,47.8481468794],[-3.6890243937,47.8812678137],[-3.6421567997,47.515218099],[-4.1820474806,47.482516483]]],[[[-4.2326467218,47.8481468794],[-4.2842594606,48.2137125519],[-3.7368322994,48.2472586643],[-3.6890243937,47.8812678137],[-4.2326467218,47.8481468794]]],[[[-4.2842594606,48.2137125519],[-4.3369115219,48.5792124115],[-3.7856045437,48.6131897207],[-3.7368322994,48.2472586643],[-4.2842594606,48.2137125519]]],[[[-4.3369115219,48.5792124115],[-4.3906296509,48.9446453334],[-3.8353660118,48.9790600232],[-3.7856045437,48.6131897207],[-4.3369115219,48.5792124115]]],[[[-4.7752556993,47.8124750717],[-4.8306474523,48.1775834361],[-4.2842594606,48.2137125519],[-4.2326467218,47.8481468794],[-4.7752556993,47.8124750717]]],[[[-4.8306474523,48.1775834361],[-4.8871525926,48.542619538],[-4.3369115219,48.5792124115],[-4.2842594606,48.2137125519],[-4.8306474523,48.1775834361]]],[[[-4.8871525926,48.542619538],[-4.9447996844,48.907582077],[-4.3906296509,48.9446453334],[-4.3369115219,48.5792124115],[-4.8871525926,48.542619538]]],[[[-3.6421567997,47.515218099],[-3.6890243937,47.8812678137],[-3.1444618907,47.9118262857],[-3.1013491426,47.5453892294],[-3.6421567997,47.515218099]]],[[[-3.6890243937,47.8812678137],[-3.7368322994,48.2472586643],[-3.1884409427,48.2782099091],[-3.1444618907,47.9118262857],[-3.6890243937,47.8812678137]]],[[[-3.7368322994,48.2472586643],[-3.7856045437,48.6131897207],[-3.2333084909,48.6445393179],[-3.1884409427,48.2782099091],[-3.7368322994,48.2472586643]]],[[[-3.7856045437,48.6131897207],[-3.8353660118,48.9790600232],[-3.279087523,49.0108137054],[-3.2333084909,48.6445393179],[-3.7856045437,48.6131897207]]],[[[-3.059081268,47.1788994983],[-3.1013491426,47.5453892294],[-2.5596967336,47.5730193958],[-2.521132166,47.2061794104],[-3.059081268,47.1788994983]]],[[[-3.1013491426,47.5453892294],[-3.1444618907,47.9118262857],[-2.5990332108,47.9398115693],[-2.5596967336,47.5730193958],[-3.1013491426,47.5453892294]]],[[[-3.1444618907,47.9118262857],[-3.1884409427,48.2782099091],[-2.6391612224,48.3065553051],[-2.5990332108,47.9398115693],[-3.1444618907,47.9118262857]]],[[[-3.1884409427,48.2782099091],[-3.2333084909,48.6445393179],[-2.6801010927,48.673249958],[-2.6391612224,48.3065553051],[-3.1884409427,48.2782099091]]],[[[-3.2333084909,48.6445393179],[-3.279087523,49.0108137054],[-2.7218738766,49.039894863],[-2.6801010927,48.673249958],[-3.2333084909,48.6445393179]]],[[[1.9055011847,42.1718812308],[1.8990816098,42.5407035131],[2.3978669155,42.5444101484],[2.4013786195,42.1755405622],[1.9055011847,42.1718812308]]],[[[1.8990816098,42.5407035131],[1.8925402998,42.9095011718],[2.3942886078,42.9132556653],[2.3978669155,42.5444101484],[1.8990816098,42.5407035131]]],[[[1.8925402998,42.9095011718],[1.8858745312,43.2782741646],[2.3906422058,43.2820770845],[2.3942886078,42.9132556653],[1.8925402998,42.9095011718]]],[[[1.8858745312,43.2782741646],[1.8790814923,43.6470224525],[2.3869261707,43.6508743815],[2.3906422058,43.2820770845],[1.8858745312,43.2782741646]]],[[[1.8790814923,43.6470224525],[1.8721582794,44.0157460001],[2.3831389134,44.0196475355],[2.3869261707,43.6508743815],[1.8790814923,43.6470224525]]],[[[1.8721582794,44.0157460001],[1.8651018935,44.3844447748],[2.3792787924,44.3883965297],[2.3831389134,44.0196475355],[1.8721582794,44.0157460001]]],[[[1.8651018935,44.3844447748],[1.8579092358,44.7531187477],[2.3753441118,44.7571213507],[2.3792787924,44.3883965297],[1.8651018935,44.3844447748]]],[[[1.8579092358,44.7531187477],[1.8505771044,45.1217678929],[2.3713331192,45.125821989],[2.3753441118,44.7571213507],[1.8579092358,44.7531187477]]],[[[1.8505771044,45.1217678929],[1.8431021895,45.4903921879],[2.3672440029,45.494498439],[2.3713331192,45.125821989],[1.8505771044,45.1217678929]]],[[[1.8431021895,45.4903921879],[1.8354810693,45.8589916131],[2.3630748902,45.8631506986],[2.3672440029,45.494498439],[1.8431021895,45.4903921879]]],[[[1.8354810693,45.8589916131],[1.8277102051,46.2275661522],[2.3588238441,46.2317787694],[2.3630748902,45.8631506986],[1.8354810693,45.8589916131]]],[[[1.8277102051,46.2275661522],[1.8197859363,46.5961157921],[2.3544888612,46.6003826569],[2.3588238441,46.2317787694],[1.8277102051,46.2275661522]]],[[[1.8197859363,46.5961157921],[1.8117044758,46.9646405226],[2.3500678685,46.9689623701],[2.3544888612,46.6003826569],[1.8197859363,46.5961157921]]],[[[1.8117044758,46.9646405226],[1.8034619036,47.3331403364],[2.3455587203,47.3375179218],[2.3500678685,46.9689623701],[1.8117044758,46.9646405226]]],[[[1.8034619036,47.3331403364],[1.7950541621,47.7016152295],[2.3409591958,47.7060493283],[2.3455587203,47.3375179218],[1.8034619036,47.3331403364]]],[[[1.7950541621,47.7016152295],[1.7864770493,48.0700652006],[2.3362669947,48.0745566096],[2.3409591958,47.7060493283],[1.7950541621,47.7016152295]]],[[[1.7864770493,48.0700652006],[1.7777262128,48.4384902513],[2.3314797348,48.4430397894],[2.3362669947,48.0745566096],[1.7864770493,48.0700652006]]],[[[1.7777262128,48.4384902513],[1.7687971432,48.806890386],[2.3265949475,48.8114988948],[2.3314797348,48.4430397894],[1.7777262128,48.4384902513]]],[[[1.7687971432,48.806890386],[1.7596851668,49.1752656119],[2.3216100746,49.1799339567],[2.3265949475,48.8114988948],[1.7687971432,48.806890386]]],[[[1.7596851668,49.1752656119],[1.7503854383,49.5436159388],[2.3165224637,49.5483450093],[2.3216100746,49.1799339567],[1.7596851668,49.1752656119]]],[[[1.7503854383,49.5436159388],[1.7408929329,49.9119413793],[2.3113293641,49.9167320905],[2.3165224637,49.5483450093],[1.7503854383,49.5436159388]]],[[[1.7408929329,49.9119413793],[1.7312024384,50.2802419484],[2.3060279225,50.2850952416],[2.3113293641,49.9167320905],[1.7408929329,49.9119413793]]],[[[1.7312024384,50.2802419484],[1.7213085457,50.6485176637],[2.3006151779,50.6534345073],[2.3060279225,50.2850952416],[1.7312024384,50.2802419484]]],[[[1.7213085457,50.6485176637],[1.7112056403,51.0167685451],[2.2950880565,51.0217499359],[2.3006151779,50.6534345073],[1.7213085457,50.6485176637]]],[[[1.7112056403,51.0167685451],[1.7008878923,51.3849946149],[2.2894433668,51.3900415789],[2.2950880565,51.0217499359],[1.7112056403,51.0167685451]]],[[[2.4013786195,42.1755405622],[2.3978669155,42.5444101484],[2.8967188173,42.5459455817],[2.8973212067,42.1770563987],[2.4013786195,42.1755405622]]],[[[2.3978669155,42.5444101484],[2.3942886078,42.9132556653],[2.896105002,42.914810925],[2.8967188173,42.5459455817],[2.3978669155,42.5444101484]]],[[[2.3942886078,42.9132556653],[2.3906422058,43.2820770845],[2.8954795051,43.283652406],[2.896105002,42.914810925],[2.3942886078,42.9132556653]]],[[[2.3906422058,43.2820770845],[2.3869261707,43.6508743815],[2.8948420627,43.6524700063],[2.8954795051,43.283652406],[2.3906422058,43.2820770845]]],[[[2.3869261707,43.6508743815],[2.3831389134,44.0196475355],[2.894192402,44.0212637113],[2.8948420627,43.6524700063],[2.3869261707,43.6508743815]]],[[[2.3831389134,44.0196475355],[2.3792787924,44.3883965297],[2.8935302415,44.3900335103],[2.894192402,44.0212637113],[2.3831389134,44.0196475355]]],[[[2.3792787924,44.3883965297],[2.3753441118,44.7571213507],[2.8928552902,44.7587793967],[2.8935302415,44.3900335103],[2.3792787924,44.3883965297]]],[[[2.3753441118,44.7571213507],[2.3713331192,45.125821989],[2.8921672473,45.1275013678],[2.8928552902,44.7587793967],[2.3753441118,44.7571213507]]],[[[2.3713331192,45.125821989],[2.3672440029,45.494498439],[2.8914658021,45.4961994248],[2.8921672473,45.1275013678],[2.3713331192,45.125821989]]],[[[2.3672440029,45.494498439],[2.3630748902,45.8631506986],[2.8907506333,45.864873573],[2.8914658021,45.4961994248],[2.3672440029,45.494498439]]],[[[2.3630748902,45.8631506986],[2.3588238441,46.2317787694],[2.8900214085,46.2335238213],[2.8907506333,45.864873573],[2.3630748902,45.8631506986]]],[[[2.3588238441,46.2317787694],[2.3544888612,46.6003826569],[2.8892777839,46.6021501831],[2.8900214085,46.2335238213],[2.3588238441,46.2317787694]]],[[[2.3544888612,46.6003826569],[2.3500678685,46.9689623701],[2.8885194039,46.9707526752],[2.8892777839,46.6021501831],[2.3544888612,46.6003826569]]],[[[2.3500678685,46.9689623701],[2.3455587203,47.3375179218],[2.8877459004,47.3393313186],[2.8885194039,46.9707526752],[2.3500678685,46.9689623701]]],[[[2.3455587203,47.3375179218],[2.3409591958,47.7060493283],[2.8869568922,47.7078861384],[2.8877459004,47.3393313186],[2.3455587203,47.3375179218]]],[[[2.3409591958,47.7060493283],[2.3362669947,48.0745566096],[2.8861519847,48.0764171632],[2.8869568922,47.7078861384],[2.3409591958,47.7060493283]]],[[[2.3362669947,48.0745566096],[2.3314797348,48.4430397894],[2.8853307691,48.4449244258],[2.8861519847,48.0764171632],[2.3362669947,48.0745566096]]],[[[2.3314797348,48.4430397894],[2.3265949475,48.8114988948],[2.8844928219,48.8134079629],[2.8853307691,48.4449244258],[2.3314797348,48.4430397894]]],[[[2.3265949475,48.8114988948],[2.3216100746,49.1799339567],[2.8836377041,49.181867815],[2.8844928219,48.8134079629],[2.3265949475,48.8114988948]]],[[[2.3216100746,49.1799339567],[2.3165224637,49.5483450093],[2.8827649606,49.5503040266],[2.8836377041,49.181867815],[2.3216100746,49.1799339567]]],[[[2.3165224637,49.5483450093],[2.3113293641,49.9167320905],[2.8818741194,49.9187166459],[2.8827649606,49.5503040266],[2.3165224637,49.5483450093]]],[[[2.3113293641,49.9167320905],[2.3060279225,50.2850952416],[2.8809646909,50.2871057253],[2.8818741194,49.9187166459],[2.3113293641,49.9167320905]]],[[[2.3060279225,50.2850952416],[2.3006151779,50.6534345073],[2.8800361671,50.6554713208],[2.8809646909,50.2871057253],[2.3060279225,50.2850952416]]],[[[2.3006151779,50.6534345073],[2.2950880565,51.0217499359],[2.8790880205,51.0238134922],[2.8800361671,50.6554713208],[2.3006151779,50.6534345073]]],[[[2.2950880565,51.0217499359],[2.2894433668,51.3900415789],[2.8781197034,51.3921323033],[2.8790880205,51.0238134922],[2.2950880565,51.0217499359]]],[[[2.8973212067,42.1770563987],[2.8967188173,42.5459455817],[3.3955821435,42.5453093389],[3.3932749708,42.1764282764],[2.8973212067,42.1770563987]]],[[[2.8967188173,42.5459455817],[2.896105002,42.914810925],[3.3979330763,42.9141664665],[3.3955821435,42.5453093389],[2.8967188173,42.5459455817]]],[[[2.896105002,42.914810925],[2.8954795051,43.283652406],[3.4003287485,43.2829996343],[3.3979330763,42.9141664665],[2.896105002,42.914810925]]],[[[2.8954795051,43.283652406],[2.8948420627,43.6524700063],[3.4027701714,43.6518088213],[3.4003287485,43.2829996343],[2.8954795051,43.283652406]]],[[[2.8948420627,43.6524700063],[2.894192402,44.0212637113],[3.4052583889,44.0205940104],[3.4027701714,43.6518088213],[2.8948420627,43.6524700063]]],[[[2.894192402,44.0212637113],[2.8935302415,44.3900335103],[3.4077944798,44.3893551883],[3.4052583889,44.0205940104],[2.894192402,44.0212637113]]],[[[2.8935302415,44.3900335103],[2.8928552902,44.7587793967],[3.4103795583,44.7580923456],[3.4077944798,44.3893551883],[2.8935302415,44.3900335103]]],[[[2.8928552902,44.7587793967],[2.8921672473,45.1275013678],[3.413014776,45.1268054768],[3.4103795583,44.7580923456],[2.8928552902,44.7587793967]]],[[[2.8921672473,45.1275013678],[2.8914658021,45.4961994248],[3.4157013232,45.4954945803],[3.413014776,45.1268054768],[2.8921672473,45.1275013678]]],[[[2.8914658021,45.4961994248],[2.8907506333,45.864873573],[3.4184404305,45.8641596582],[3.4157013232,45.4954945803],[2.8914658021,45.4961994248]]],[[[2.8907506333,45.864873573],[2.8900214085,46.2335238213],[3.4212333706,46.2328007166],[3.4184404305,45.8641596582],[2.8907506333,45.864873573]]],[[[2.8900214085,46.2335238213],[2.8892777839,46.6021501831],[3.42408146,46.6014177654],[3.4212333706,46.2328007166],[2.8900214085,46.2335238213]]],[[[2.8892777839,46.6021501831],[2.8885194039,46.9707526752],[3.4269860608,46.9700108184],[3.42408146,46.6014177654],[2.8892777839,46.6021501831]]],[[[2.8885194039,46.9707526752],[2.8877459004,47.3393313186],[3.4299485828,47.338579893],[3.4269860608,46.9700108184],[2.8885194039,46.9707526752]]],[[[2.8877459004,47.3393313186],[2.8869568922,47.7078861384],[3.4329704855,47.7071250107],[3.4299485828,47.338579893],[2.8877459004,47.3393313186]]],[[[2.8869568922,47.7078861384],[2.8861519847,48.0764171632],[3.4360532802,48.0756461966],[3.4329704855,47.7071250107],[2.8869568922,47.7078861384]]],[[[2.8861519847,48.0764171632],[2.8853307691,48.4449244258],[3.4391985324,48.4441434796],[3.4360532802,48.0756461966],[2.8861519847,48.0764171632]]],[[[2.8853307691,48.4449244258],[2.8844928219,48.8134079629],[3.4424078641,48.8126168926],[3.4391985324,48.4441434796],[2.8853307691,48.4449244258]]],[[[2.8844928219,48.8134079629],[2.8836377041,49.181867815],[3.4456829564,49.1810664721],[3.4424078641,48.8126168926],[2.8844928219,48.8134079629]]],[[[2.8836377041,49.181867815],[2.8827649606,49.5503040266],[3.4490255522,49.5494922581],[3.4456829564,49.1810664721],[2.8836377041,49.181867815]]],[[[2.8827649606,49.5503040266],[2.8818741194,49.9187166459],[3.4524374589,49.9178942949],[3.4490255522,49.5494922581],[2.8827649606,49.5503040266]]],[[[2.8818741194,49.9187166459],[2.8809646909,50.2871057253],[3.4559205515,50.2862726299],[3.4524374589,49.9178942949],[2.8818741194,49.9187166459]]],[[[2.8809646909,50.2871057253],[2.8800361671,50.6554713208],[3.4594767757,50.6546273147],[3.4559205515,50.2862726299],[2.8809646909,50.2871057253]]],[[[2.8800361671,50.6554713208],[2.8790880205,51.0238134922],[3.4631081514,51.0229584042],[3.4594767757,50.6546273147],[2.8800361671,50.6554713208]]],[[[3.3979330763,42.9141664665],[3.4003287485,43.2829996343],[3.9051322469,43.2801189745],[3.8997164165,42.9113224906],[3.3979330763,42.9141664665]]],[[[3.4003287485,43.2829996343],[3.4027701714,43.6518088213],[3.910651491,43.6488910361],[3.9051322469,43.2801189745],[3.4003287485,43.2829996343]]],[[[3.4027701714,43.6518088213],[3.4052583889,44.0205940104],[3.9162765085,44.0176386471],[3.910651491,43.6488910361],[3.4027701714,43.6518088213]]],[[[3.4052583889,44.0205940104],[3.4077944798,44.3893551883],[3.9220097366,44.3863617826],[3.9162765085,44.0176386471],[3.4052583889,44.0205940104]]],[[[3.4077944798,44.3893551883],[3.4103795583,44.7580923456],[3.9278536937,44.7550604212],[3.9220097366,44.3863617826],[3.4077944798,44.3893551883]]],[[[3.4103795583,44.7580923456],[3.413014776,45.1268054768],[3.933810982,45.123734545],[3.9278536937,44.7550604212],[3.4103795583,44.7580923456]]],[[[3.413014776,45.1268054768],[3.4157013232,45.4954945803],[3.9398842911,45.4923841395],[3.933810982,45.123734545],[3.413014776,45.1268054768]]],[[[3.4157013232,45.4954945803],[3.4184404305,45.8641596582],[3.9460764022,45.8610091938],[3.9398842911,45.4923841395],[3.4157013232,45.4954945803]]],[[[3.4184404305,45.8641596582],[3.4212333706,46.2328007166],[3.952390191,46.2296097003],[3.9460764022,45.8610091938],[3.4184404305,45.8641596582]]],[[[3.4212333706,46.2328007166],[3.42408146,46.6014177654],[3.9588286325,46.5981856547],[3.952390191,46.2296097003],[3.4212333706,46.2328007166]]],[[[3.42408146,46.6014177654],[3.4269860608,46.9700108184],[3.9653948047,46.9667370563],[3.9588286325,46.5981856547],[3.42408146,46.6014177654]]],[[[3.4269860608,46.9700108184],[3.4299485828,47.338579893],[3.9720918932,47.3352639075],[3.9653948047,46.9667370563],[3.4269860608,46.9700108184]]],[[[3.4299485828,47.338579893],[3.4329704855,47.7071250107],[3.9789231958,47.7037662141],[3.9720918932,47.3352639075],[3.4299485828,47.338579893]]],[[[3.4329704855,47.7071250107],[3.4360532802,48.0756461966],[3.9858921277,48.0722439852],[3.9789231958,47.7037662141],[3.4329704855,47.7071250107]]],[[[3.4360532802,48.0756461966],[3.4391985324,48.4441434796],[3.9930022261,48.4406972331],[3.9858921277,48.0722439852],[3.4360532802,48.0756461966]]],[[[3.4391985324,48.4441434796],[3.4424078641,48.8126168926],[4.0002571561,48.8091259732],[3.9930022261,48.4406972331],[3.4391985324,48.4441434796]]],[[[3.4424078641,48.8126168926],[3.4456829564,49.1810664721],[4.0076607161,49.1775302241],[4.0002571561,48.8091259732],[3.4424078641,48.8126168926]]],[[[3.4456829564,49.1810664721],[3.4490255522,49.5494922581],[4.0152168442,49.5459100076],[4.0076607161,49.1775302241],[3.4456829564,49.1810664721]]],[[[3.4490255522,49.5494922581],[3.4524374589,49.9178942949],[4.0229296243,49.9142653484],[4.0152168442,49.5459100076],[3.4490255522,49.5494922581]]],[[[3.4524374589,49.9178942949],[3.4559205515,50.2862726299],[4.0308032928,50.2825962744],[4.0229296243,49.9142653484],[3.4524374589,49.9178942949]]],[[[3.4559205515,50.2862726299],[3.4594767757,50.6546273147],[4.0388422459,50.6509028162],[4.0308032928,50.2825962744],[3.4559205515,50.2862726299]]],[[[3.8997164165,42.9113224906],[3.9051322469,43.2801189745],[4.4098323441,43.2750113312],[4.4013986401,42.9062798827],[3.8997164165,42.9113224906]]],[[[3.9051322469,43.2801189745],[3.910651491,43.6488910361],[4.4184270502,43.6437175753],[4.4098323441,43.2750113312],[3.9051322469,43.2801189745]]],[[[3.910651491,43.6488910361],[3.9162765085,44.0176386471],[4.4271864307,44.0123985666],[4.4184270502,43.6437175753],[3.910651491,43.6488910361]]],[[[3.9162765085,44.0176386471],[3.9220097366,44.3863617826],[4.4361142786,44.3810542595],[4.4271864307,44.0123985666],[3.9162765085,44.0176386471]]],[[[3.9220097366,44.3863617826],[3.9278536937,44.7550604212],[4.4452145126,44.7496846114],[4.4361142786,44.3810542595],[3.9220097366,44.3863617826]]],[[[3.9278536937,44.7550604212],[3.933810982,45.123734545],[4.4544911822,45.1182895825],[4.4452145126,44.7496846114],[3.9278536937,44.7550604212]]],[[[3.933810982,45.123734545],[3.9398842911,45.4923841395],[4.463948473,45.4868691358],[4.4544911822,45.1182895825],[3.933810982,45.123734545]]],[[[3.9398842911,45.4923841395],[3.9460764022,45.8610091938],[4.4735907126,45.8554232368],[4.463948473,45.4868691358],[3.9398842911,45.4923841395]]],[[[3.9460764022,45.8610091938],[3.952390191,46.2296097003],[4.483422376,46.2239518537],[4.4735907126,45.8554232368],[3.9460764022,45.8610091938]]],[[[3.952390191,46.2296097003],[3.9588286325,46.5981856547],[4.4934480923,46.5924549575],[4.483422376,46.2239518537],[3.952390191,46.2296097003]]],[[[3.9588286325,46.5981856547],[3.9653948047,46.9667370563],[4.5036726509,46.9609325215],[4.4934480923,46.5924549575],[3.9588286325,46.5981856547]]],[[[3.9653948047,46.9667370563],[3.9720918932,47.3352639075],[4.5141010089,47.3293845214],[4.5036726509,46.9609325215],[3.9653948047,46.9667370563]]],[[[3.9720918932,47.3352639075],[3.9789231958,47.7037662141],[4.5247382973,47.6978109356],[4.5141010089,47.3293845214],[3.9720918932,47.3352639075]]],[[[3.9789231958,47.7037662141],[3.9858921277,48.0722439852],[4.53558983,48.0662117445],[4.5247382973,47.6978109356],[3.9789231958,47.7037662141]]],[[[3.9858921277,48.0722439852],[3.9930022261,48.4406972331],[4.5466611105,48.4345869309],[4.53558983,48.0662117445],[3.9858921277,48.0722439852]]],[[[3.9930022261,48.4406972331],[4.0002571561,48.8091259732],[4.5579578412,48.8029364796],[4.5466611105,48.4345869309],[3.9930022261,48.4406972331]]],[[[4.0002571561,48.8091259732],[4.0076607161,49.1775302241],[4.569485932,49.1712603776],[4.5579578412,48.8029364796],[4.0002571561,48.8091259732]]],[[[4.0076607161,49.1775302241],[4.0152168442,49.5459100076],[4.5812515097,49.5395586139],[4.569485932,49.1712603776],[4.0076607161,49.1775302241]]],[[[4.0152168442,49.5459100076],[4.0229296243,49.9142653484],[4.5932609278,49.9078311792],[4.5812515097,49.5395586139],[4.0152168442,49.5459100076]]],[[[4.0229296243,49.9142653484],[4.0308032928,50.2825962744],[4.6055207773,50.276078066],[4.5932609278,49.9078311792],[4.0229296243,49.9142653484]]],[[[4.4098323441,43.2750113312],[4.4184270502,43.6437175753],[4.9260379553,43.6362900779],[4.9143714585,43.2676783083],[4.4098323441,43.2750113312]]],[[[4.4184270502,43.6437175753],[4.4271864307,44.0123985666],[4.9379279066,44.004875444],[4.9260379553,43.6362900779],[4.4184270502,43.6437175753]]],[[[4.4271864307,44.0123985666],[4.4361142786,44.3810542595],[4.9500464562,44.3734343314],[4.9379279066,44.004875444],[4.4271864307,44.0123985666]]],[[[4.4361142786,44.3810542595],[4.4452145126,44.7496846114],[4.9623989185,44.7419666672],[4.9500464562,44.3734343314],[4.4361142786,44.3810542595]]],[[[4.4452145126,44.7496846114],[4.4544911822,45.1182895825],[4.9749907847,45.11047238],[4.9623989185,44.7419666672],[4.4452145126,44.7496846114]]],[[[4.4544911822,45.1182895825],[4.463948473,45.4868691358],[4.9878277308,45.4789514003],[4.9749907847,45.11047238],[4.4544911822,45.1182895825]]],[[[4.463948473,45.4868691358],[4.4735907126,45.8554232368],[5.0009156248,45.8474036602],[4.9878277308,45.4789514003],[4.463948473,45.4868691358]]],[[[4.4735907126,45.8554232368],[4.483422376,46.2239518537],[5.0142605348,46.2158290933],[5.0009156248,45.8474036602],[4.4735907126,45.8554232368]]],[[[4.483422376,46.2239518537],[4.4934480923,46.5924549575],[5.0278687375,46.5842276347],[5.0142605348,46.2158290933],[4.483422376,46.2239518537]]],[[[4.4934480923,46.5924549575],[4.5036726509,46.9609325215],[5.0417467271,46.9525992208],[5.0278687375,46.5842276347],[4.4934480923,46.5924549575]]],[[[4.5036726509,46.9609325215],[4.5141010089,47.3293845214],[5.0559012243,47.3209437891],[5.0417467271,46.9525992208],[4.5036726509,46.9609325215]]],[[[4.5141010089,47.3293845214],[4.5247382973,47.6978109356],[5.0703391864,47.6892612784],[5.0559012243,47.3209437891],[4.5141010089,47.3293845214]]],[[[4.5247382973,47.6978109356],[4.53558983,48.0662117445],[5.0850678175,48.0575516282],[5.0703391864,47.6892612784],[4.5247382973,47.6978109356]]],[[[4.53558983,48.0662117445],[4.5466611105,48.4345869309],[5.1000945792,48.4258147789],[5.0850678175,48.0575516282],[4.53558983,48.0662117445]]],[[[4.5466611105,48.4345869309],[4.5579578412,48.8029364796],[5.1154272024,48.7940506717],[5.1000945792,48.4258147789],[4.5466611105,48.4345869309]]],[[[4.5579578412,48.8029364796],[4.569485932,49.1712603776],[5.1310736988,49.1622592481],[5.1154272024,48.7940506717],[4.5579578412,48.8029364796]]],[[[4.569485932,49.1712603776],[4.5812515097,49.5395586139],[5.1470423741,49.53044045],[5.1310736988,49.1622592481],[4.569485932,49.1712603776]]],[[[4.5812515097,49.5395586139],[4.5932609278,49.9078311792],[5.1633418413,49.8985942196],[5.1470423741,49.53044045],[4.5812515097,49.5395586139]]],[[[4.5932609278,49.9078311792],[4.6055207773,50.276078066],[5.1799810346,50.2667204989],[5.1633418413,49.8985942196],[4.5932609278,49.9078311792]]],[[[4.9143714585,43.2676783083],[4.9260379553,43.6362900779],[5.433425433,43.6266108955],[5.4186921247,43.2581222067],[4.9143714585,43.2676783083]]],[[[4.9260379553,43.6362900779],[4.9379279066,44.004875444],[5.4484408124,43.995071683],[5.433425433,43.6266108955],[4.9260379553,43.6362900779]]],[[[4.9379279066,44.004875444],[4.9500464562,44.3734343314],[5.4637447509,44.3635044556],[5.4484408124,43.995071683],[4.9379279066,44.004875444]]],[[[4.9500464562,44.3734343314],[4.9623989185,44.7419666672],[5.4793439512,44.7319091008],[5.4637447509,44.3635044556],[4.9500464562,44.3734343314]]],[[[4.9623989185,44.7419666672],[4.9749907847,45.11047238],[5.4952453394,45.1002855063],[5.4793439512,44.7319091008],[4.9623989185,44.7419666672]]],[[[4.9749907847,45.11047238],[4.9878277308,45.4789514003],[5.511456074,45.4686335604],[5.4952453394,45.1002855063],[4.9749907847,45.11047238]]],[[[4.9878277308,45.4789514003],[5.0009156248,45.8474036602],[5.5279835557,45.8369531516],[5.511456074,45.4686335604],[4.9878277308,45.4789514003]]],[[[5.0009156248,45.8474036602],[5.0142605348,46.2158290933],[5.544835437,46.2052441686],[5.5279835557,45.8369531516],[5.0009156248,45.8474036602]]],[[[5.0142605348,46.2158290933],[5.0278687375,46.5842276347],[5.5620196337,46.5735064998],[5.544835437,46.2052441686],[5.0142605348,46.2158290933]]],[[[5.0278687375,46.5842276347],[5.0417467271,46.9525992208],[5.579544335,46.9417400335],[5.5620196337,46.5735064998],[5.0278687375,46.5842276347]]],[[[5.0417467271,46.9525992208],[5.0559012243,47.3209437891],[5.597418016,47.3099446578],[5.579544335,46.9417400335],[5.0417467271,46.9525992208]]],[[[5.0559012243,47.3209437891],[5.0703391864,47.6892612784],[5.6156494494,47.6781202598],[5.597418016,47.3099446578],[5.0559012243,47.3209437891]]],[[[5.0703391864,47.6892612784],[5.0850678175,48.0575516282],[5.6342477191,48.0462667259],[5.6156494494,47.6781202598],[5.0703391864,47.6892612784]]],[[[5.0850678175,48.0575516282],[5.1000945792,48.4258147789],[5.6532222334,48.4143839417],[5.6342477191,48.0462667259],[5.0850678175,48.0575516282]]],[[[5.1000945792,48.4258147789],[5.1154272024,48.7940506717],[5.6725827392,48.7824717911],[5.6532222334,48.4143839417],[5.1000945792,48.4258147789]]],[[[5.1154272024,48.7940506717],[5.1310736988,49.1622592481],[5.6923393378,49.1505301569],[5.6725827392,48.7824717911],[5.1154272024,48.7940506717]]],[[[5.1310736988,49.1622592481],[5.1470423741,49.53044045],[5.7125025004,49.5185589199],[5.6923393378,49.1505301569],[5.1310736988,49.1622592481]]],[[[5.1470423741,49.53044045],[5.1633418413,49.8985942196],[5.7330830849,49.8865579589],[5.7125025004,49.5185589199],[5.1470423741,49.53044045]]],[[[5.4042346058,42.8896057307],[5.4186921247,43.2581222067],[5.9227370347,43.2463460227],[5.9052761012,42.8779793707],[5.4042346058,42.8896057307]]],[[[5.4186921247,43.2581222067],[5.433425433,43.6266108955],[5.9405308741,43.6146830902],[5.9227370347,43.2463460227],[5.4186921247,43.2581222067]]],[[[5.433425433,43.6266108955],[5.4484408124,43.995071683],[5.9586651948,43.9829904133],[5.9405308741,43.6146830902],[5.433425433,43.6266108955]]],[[[5.4484408124,43.995071683],[5.4637447509,44.3635044556],[5.9771478208,44.3512678315],[5.9586651948,43.9829904133],[5.4484408124,43.995071683]]],[[[5.4637447509,44.3635044556],[5.4793439512,44.7319091008],[5.9959868347,44.7195151833],[5.9771478208,44.3512678315],[5.4637447509,44.3635044556]]],[[[5.4793439512,44.7319091008],[5.4952453394,45.1002855063],[6.015190588,45.0877323063],[5.9959868347,44.7195151833],[5.4793439512,44.7319091008]]],[[[5.4952453394,45.1002855063],[5.511456074,45.4686335604],[6.0347677123,45.455919037],[6.015190588,45.0877323063],[5.4952453394,45.1002855063]]],[[[5.511456074,45.4686335604],[5.5279835557,45.8369531516],[6.0547271306,45.8240752101],[6.0347677123,45.455919037],[5.511456074,45.4686335604]]],[[[5.5279835557,45.8369531516],[5.544835437,46.2052441686],[6.0750780697,46.1922006592],[6.0547271306,45.8240752101],[5.5279835557,45.8369531516]]],[[[5.544835437,46.2052441686],[5.5620196337,46.5735064998],[6.0958300728,46.5602952155],[6.0750780697,46.1922006592],[5.544835437,46.2052441686]]],[[[5.5620196337,46.5735064998],[5.579544335,46.9417400335],[6.1169930129,46.9283587083],[6.0958300728,46.5602952155],[5.5620196337,46.5735064998]]],[[[5.579544335,46.9417400335],[5.597418016,47.3099446578],[6.1385771069,47.2963909644],[6.1169930129,46.9283587083],[5.579544335,46.9417400335]]],[[[5.597418016,47.3099446578],[5.6156494494,47.6781202598],[6.1605929303,47.6643918079],[6.1385771069,47.2963909644],[5.597418016,47.3099446578]]],[[[5.6156494494,47.6781202598],[5.6342477191,48.0462667259],[6.1830514328,48.0323610601],[6.1605929303,47.6643918079],[5.6156494494,47.6781202598]]],[[[5.6342477191,48.0462667259],[5.6532222334,48.4143839417],[6.2059639549,48.4002985387],[6.1830514328,48.0323610601],[5.6342477191,48.0462667259]]],[[[5.6532222334,48.4143839417],[5.6725827392,48.7824717911],[6.2293422449,48.7682040579],[6.2059639549,48.4002985387],[5.6532222334,48.4143839417]]],[[[5.6725827392,48.7824717911],[5.6923393378,49.1505301569],[6.2531984773,49.1360774279],[6.2293422449,48.7682040579],[5.6725827392,48.7824717911]]],[[[5.6923393378,49.1505301569],[5.7125025004,49.5185589199],[6.277545272,49.5039184545],[6.2531984773,49.1360774279],[5.6923393378,49.1505301569]]],[[[5.9052761012,42.8779793707],[5.9227370347,43.2463460227],[6.4264490785,43.2323534448],[6.4059920654,42.864164742],[5.9052761012,42.8779793707]]],[[[5.9227370347,43.2463460227],[5.9405308741,43.6146830902],[6.4472958752,43.6005104315],[6.4264490785,43.2323534448],[5.9227370347,43.2463460227]]],[[[5.9405308741,43.6146830902],[5.9586651948,43.9829904133],[6.4685413149,43.9686354878],[6.4472958752,43.6005104315],[5.9405308741,43.6146830902]]],[[[5.9586651948,43.9829904133],[5.9771478208,44.3512678315],[6.4901945478,44.3367283975],[6.4685413149,43.9686354878],[5.9586651948,43.9829904133]]],[[[5.9771478208,44.3512678315],[5.9959868347,44.7195151833],[6.5122650255,44.7047889413],[6.4901945478,44.3367283975],[5.9771478208,44.3512678315]]],[[[5.9959868347,44.7195151833],[6.015190588,45.0877323063],[6.5347625143,45.0728168974],[6.5122650255,44.7047889413],[5.9959868347,44.7195151833]]],[[[6.015190588,45.0877323063],[6.0347677123,45.455919037],[6.5576971071,45.4408120407],[6.5347625143,45.0728168974],[6.015190588,45.0877323063]]],[[[6.0347677123,45.455919037],[6.0547271306,45.8240752101],[6.5810792374,45.8087741427],[6.5576971071,45.4408120407],[6.0347677123,45.455919037]]],[[[6.0547271306,45.8240752101],[6.0750780697,46.1922006592],[6.6049196933,46.1767029713],[6.5810792374,45.8087741427],[6.0547271306,45.8240752101]]],[[[6.0750780697,46.1922006592],[6.0958300728,46.5602952155],[6.6292296322,46.5445982902],[6.6049196933,46.1767029713],[6.0750780697,46.1922006592]]],[[[6.0958300728,46.5602952155],[6.1169930129,46.9283587083],[6.6540205968,46.9124598586],[6.6292296322,46.5445982902],[6.0958300728,46.5602952155]]],[[[6.1169930129,46.9283587083],[6.1385771069,47.2963909644],[6.6793045309,47.2802874313],[6.6540205968,46.9124598586],[6.1169930129,46.9283587083]]],[[[6.1385771069,47.2963909644],[6.1605929303,47.6643918079],[6.705093797,47.6480807574],[6.6793045309,47.2802874313],[6.1385771069,47.2963909644]]],[[[6.1605929303,47.6643918079],[6.1830514328,48.0323610601],[6.7314011948,48.015839581],[6.705093797,47.6480807574],[6.1605929303,47.6643918079]]],[[[6.1830514328,48.0323610601],[6.2059639549,48.4002985387],[6.7582399794,48.3835636397],[6.7314011948,48.015839581],[6.1830514328,48.0323610601]]],[[[6.2059639549,48.4002985387],[6.2293422449,48.7682040579],[6.7856238823,48.751252665],[6.7582399794,48.3835636397],[6.2059639549,48.4002985387]]],[[[6.2293422449,48.7682040579],[6.2531984773,49.1360774279],[6.8135671322,49.1189063815],[6.7856238823,48.751252665],[6.2293422449,48.7682040579]]],[[[6.2531984773,49.1360774279],[6.277545272,49.5039184545],[6.8420844772,49.4865245061],[6.8135671322,49.1189063815],[6.2531984773,49.1360774279]]],[[[6.4059920654,42.864164742],[6.4264490785,43.2323534448],[6.9297713853,43.2161488506],[6.9063268712,42.8481661288],[6.4059920654,42.864164742]]],[[[6.4264490785,43.2323534448],[6.4472958752,43.6005104315],[6.9536622815,43.5840973928],[6.9297713853,43.2161488506],[6.4264490785,43.2323534448]]],[[[6.4472958752,43.6005104315],[6.4685413149,43.9686354878],[6.9780096923,43.9520114787],[6.9536622815,43.5840973928],[6.4472958752,43.6005104315]]],[[[6.4685413149,43.9686354878],[6.4901945478,44.3367283975],[7.0028240821,44.3198908272],[6.9780096923,43.9520114787],[6.4685413149,43.9686354878]]],[[[6.4901945478,44.3367283975],[6.5122650255,44.7047889413],[7.0281162599,44.6877351529],[7.0028240821,44.3198908272],[6.4901945478,44.3367283975]]],[[[6.5122650255,44.7047889413],[6.5347625143,45.0728168974],[7.0538973933,45.0555441651],[7.0281162599,44.6877351529],[6.5122650255,44.7047889413]]],[[[6.5347625143,45.0728168974],[6.5576971071,45.4408120407],[7.0801790234,45.4233175679],[7.0538973933,45.0555441651],[6.5347625143,45.0728168974]]],[[[6.5576971071,45.4408120407],[6.5810792374,45.8087741427],[7.1069730801,45.7910550597],[7.0801790234,45.4233175679],[6.5576971071,45.4408120407]]],[[[6.5810792374,45.8087741427],[6.6049196933,46.1767029713],[7.1342918979,46.1587563328],[7.1069730801,45.7910550597],[6.5810792374,45.8087741427]]],[[[6.6049196933,46.1767029713],[6.6292296322,46.5445982902],[7.1621482329,46.5264210729],[7.1342918979,46.1587563328],[6.6049196933,46.1767029713]]],[[[6.6540205968,46.9124598586],[6.6793045309,47.2802874313],[7.2195266954,47.2616396611],[7.1905552808,46.8940489586],[6.6540205968,46.9124598586]]],[[[6.6793045309,47.2802874313],[6.705093797,47.6480807574],[7.2490766082,47.6291928437],[7.2195266954,47.2616396611],[6.6793045309,47.2802874313]]],[[[6.705093797,47.6480807574],[6.7314011948,48.015839581],[7.2792196492,47.9967081611],[7.2490766082,47.6291928437],[6.705093797,47.6480807574]]],[[[6.7314011948,48.015839581],[6.7582399794,48.3835636397],[7.3099709685,48.3641852588],[7.2792196492,47.9967081611],[6.7314011948,48.015839581]]],[[[6.7582399794,48.3835636397],[6.7856238823,48.751252665],[7.3413462594,48.731623773],[7.3099709685,48.3641852588],[6.7582399794,48.3835636397]]],[[[6.7856238823,48.751252665],[6.8135671322,49.1189063815],[7.3733617823,49.0990233291],[7.3413462594,48.731623773],[6.7856238823,48.751252665]]],[[[6.8135671322,49.1189063815],[6.8420844772,49.4865245061],[7.4060343904,49.4663835422],[7.3733617823,49.0990233291],[6.8135671322,49.1189063815]]],[[[-2.1122606639,42.8005760045],[-2.1428743899,43.1679466442],[-1.6407255142,43.189469003],[-1.6130735219,42.8218251839],[-2.1122606639,42.8005760045]]],[[[-2.1428743899,43.1679466442],[-2.1740697408,43.5352758089],[-1.6689033689,43.5570745984],[-1.6407255142,43.189469003],[-2.1428743899,43.1679466442]]],[[[-2.1740697408,43.5352758089],[-2.2058598675,43.9025630373],[-1.6976189972,43.9246415911],[-1.6689033689,43.5570745984],[-2.1740697408,43.5352758089]]],[[[-2.4462435844,46.4723584185],[-2.4833205536,46.8392922211],[-1.9482689999,46.8637396456],[-1.9147722818,46.4964961241],[-2.4462435844,46.4723584185]]],[[[-2.4833205536,46.8392922211],[-2.521132166,47.2061794104],[-1.9824302158,47.230940755],[-1.9482689999,46.8637396456],[-2.4833205536,46.8392922211]]],[[[-2.521132166,47.2061794104],[-2.5596967336,47.5730193958],[-2.0172725266,47.5980989746],[-1.9824302158,47.230940755],[-2.521132166,47.2061794104]]],[[[-2.5596967336,47.5730193958],[-2.5990332108,47.9398115693],[-2.0528131131,47.9652138132],[-2.0172725266,47.5980989746],[-2.5596967336,47.5730193958]]],[[[-2.5990332108,47.9398115693],[-2.6391612224,48.3065553051],[-2.0890697651,48.3322847656],[-2.0528131131,47.9652138132],[-2.5990332108,47.9398115693]]],[[[-2.6391612224,48.3065553051],[-2.6801010927,48.673249958],[-2.1260609081,48.6993113118],[-2.0890697651,48.3322847656],[-2.6391612224,48.3065553051]]],[[[-2.6801010927,48.673249958],[-2.7218738766,49.039894863],[-2.1638056316,49.066292916],[-2.1260609081,48.6993113118],[-2.6801010927,48.673249958]]],[[[6.9297713853,43.2161488506],[6.9536622815,43.5840973928],[7.4595722283,43.5654491473],[7.4326473632,43.1977373024],[6.9297713853,43.2161488506]]],[[[6.9536622815,43.5840973928],[6.9780096923,43.9520114787],[7.4870111483,43.9331236729],[7.4595722283,43.5654491473],[6.9536622815,43.5840973928]]],[[[6.9780096923,43.9520114787],[7.0028240821,44.3198908272],[7.5149758883,44.3007605251],[7.4870111483,43.9331236729],[6.9780096923,43.9520114787]]],[[[7.0538973933,45.0555441651],[7.0801790234,45.4233175679],[7.6021485807,45.4034413956],[7.5725318402,45.0359197586],[7.0538973933,45.0555441651]]],[[[7.2195266954,47.2616396611],[7.2490766082,47.6291928437],[7.7924663779,47.6077346969],[7.7591704449,47.2404541307],[7.2195266954,47.2616396611]]],[[[7.2490766082,47.6291928437],[7.2792196492,47.9967081611],[7.8264299158,47.9749735888],[7.7924663779,47.6077346969],[7.2490766082,47.6291928437]]],[[[7.2792196492,47.9967081611],[7.3099709685,48.3641852588],[7.8610780806,48.3421703477],[7.8264299158,47.9749735888],[7.2792196492,47.9967081611]]],[[[7.3099709685,48.3641852588],[7.3413462594,48.731623773],[7.8964285032,48.7093245019],[7.8610780806,48.3421703477],[7.3099709685,48.3641852588]]],[[[7.3413462594,48.731623773],[7.3733617823,49.0990233291],[7.9324994505,49.0764355654],[7.8964285032,48.7093245019],[7.3413462594,48.731623773]]],[[[7.3733617823,49.0990233291],[7.4060343904,49.4663835422],[7.9693098538,49.4435030375],[7.9324994505,49.0764355654],[7.3733617823,49.0990233291]]],[[[7.4595722283,43.5654491473],[7.4870111483,43.9331236729],[7.9954868486,43.9119780675],[7.9649681823,43.544571563],[7.4595722283,43.5654491473]]],[[[7.4870111483,43.9331236729],[7.5149758883,44.3007605251],[8.0265897893,44.2793436208],[7.9954868486,43.9119780675],[7.4870111483,43.9331236729]]],[[[7.8964285032,48.7093245019],[7.9324994505,49.0764355654],[8.4908977785,49.0511513595],[8.4507903329,48.684362924],[7.8964285032,48.7093245019]]],[[[8.2809977694,41.3179028966],[8.3110148653,41.6852698317],[8.8007707158,41.6615204834],[8.7680215878,41.2944563],[8.2809977694,41.3179028966]]],[[[8.3110148653,41.6852698317],[8.3415947724,42.0525951854],[8.8341332492,42.0285396798],[8.8007707158,41.6615204834],[8.3110148653,41.6852698317]]],[[[8.3415947724,42.0525951854],[8.3727497192,42.4198784855],[8.8681224897,42.395513333],[8.8341332492,42.0285396798],[8.3415947724,42.0525951854]]],[[[8.3727497192,42.4198784855],[8.4044923214,42.7871192502],[8.9027521598,42.7624408749],[8.8681224897,42.395513333],[8.3727497192,42.4198784855]]],[[[8.7680215878,41.2944563],[8.8007707158,41.6615204834],[9.2899132287,41.6356987762],[9.254444963,41.2689635165],[8.7680215878,41.2944563]]],[[[8.8007707158,41.6615204834],[8.8341332492,42.0285396798],[9.3260450888,42.0023853588],[9.2899132287,41.6356987762],[8.8007707158,41.6615204834]]],[[[8.8341332492,42.0285396798],[8.8681224897,42.395513333],[9.3628549034,42.3690226175],[9.3260450888,42.0023853588],[8.8341332492,42.0285396798]]],[[[8.8681224897,42.395513333],[8.9027521598,42.7624408749],[9.4003574853,42.7356098905],[9.3628549034,42.3690226175],[8.8681224897,42.395513333]]],[[[8.9027521598,42.7624408749],[8.9380364185,43.1293217249],[9.4385681175,43.1021465012],[9.4003574853,42.7356098905],[8.9027521598,42.7624408749]]],[[[9.254444963,41.2689635165],[9.2899132287,41.6356987762],[9.7783922197,41.6078124315],[9.7402187376,41.2414321078],[9.254444963,41.2689635165]]],[[[9.2899132287,41.6356987762],[9.3260450888,42.0023853588],[9.8172790493,41.9741401077],[9.7783922197,41.6078124315],[9.2899132287,41.6356987762]]],[[[9.3260450888,42.0023853588],[9.3628549034,42.3690226175],[9.856894628,42.3404143921],[9.8172790493,41.9741401077],[9.3260450888,42.0023853588]]],[[[9.3628549034,42.3690226175],[9.4003574853,42.7356098905],[9.8972548418,42.7066345228],[9.856894628,42.3404143921],[9.3628549034,42.3690226175]]],[[[9.4003574853,42.7356098905],[9.4385681175,43.1021465012],[9.9383760796,43.0727997199],[9.8972548418,42.7066345228],[9.4003574853,42.7356098905]]],[[[-1.6130735219,42.8218251839],[-1.6407255142,43.189469003],[-1.1380508382,43.2087927257],[-1.1133721143,42.8409034744],[-1.6130735219,42.8218251839]]],[[[-1.6407255142,43.189469003],[-1.6689033689,43.5570745984],[-1.1631992884,43.5766466809],[-1.1380508382,43.2087927257],[-1.6407255142,43.189469003]]],[[[-1.6689033689,43.5570745984],[-1.6976189972,43.9246415911],[-1.1888281211,43.9444650349],[-1.1631992884,43.5766466809],[-1.6689033689,43.5570745984]]],[[[-1.6976189972,43.9246415911],[-1.7268846985,44.2921695944],[-1.2149483408,44.3122474777],[-1.1888281211,43.9444650349],[-1.6976189972,43.9246415911]]],[[[-1.7268846985,44.2921695944],[-1.7567131769,44.6596582139],[-1.2415713146,44.6799936934],[-1.2149483408,44.3122474777],[-1.7268846985,44.2921695944]]],[[[-1.7567131769,44.6596582139],[-1.7871175569,45.0271070464],[-1.2687087864,45.0477033604],[-1.2415713146,44.6799936934],[-1.7567131769,44.6596582139]]],[[[-1.7871175569,45.0271070464],[-1.8181114006,45.3945156801],[-1.2963728926,45.4153761509],[-1.2687087864,45.0477033604],[-1.7871175569,45.0271070464]]],[[[-1.881924024,46.1292106557],[-1.9147722818,46.4964961241],[-1.3826526082,46.5181698788],[-1.3533316119,46.1506097558],[-1.881924024,46.1292106557]]],[[[-1.9147722818,46.4964961241],[-1.9482689999,46.8637396456],[-1.4125530415,46.8856917411],[-1.3826526082,46.5181698788],[-1.9147722818,46.4964961241]]],[[[-1.9482689999,46.8637396456],[-1.9824302158,47.230940755],[-1.4430472679,47.2531749761],[-1.4125530415,46.8856917411],[-1.9482689999,46.8637396456]]],[[[-1.9824302158,47.230940755],[-2.0172725266,47.5980989746],[-1.4741501454,47.6206192082],[-1.4430472679,47.2531749761],[-1.9824302158,47.230940755]]],[[[-2.0172725266,47.5980989746],[-2.0528131131,47.9652138132],[-1.5058770558,47.9880240518],[-1.4741501454,47.6206192082],[-2.0172725266,47.5980989746]]],[[[-2.0528131131,47.9652138132],[-2.0890697651,48.3322847656],[-1.5382439273,48.3553891106],[-1.5058770558,47.9880240518],[-2.0528131131,47.9652138132]]],[[[-2.0890697651,48.3322847656],[-2.1260609081,48.6993113118],[-1.5712672584,48.7227139776],[-1.5382439273,48.3553891106],[-2.0890697651,48.3322847656]]],[[[-2.1260609081,48.6993113118],[-2.1638056316,49.066292916],[-1.6049641438,49.0899982338],[-1.5712672584,48.7227139776],[-2.1260609081,48.6993113118]]],[[[-2.1638056316,49.066292916],[-2.2023237188,49.4332290256],[-1.6393523004,49.4572414478],[-1.6049641438,49.0899982338],[-2.1638056316,49.066292916]]],[[[-2.2023237188,49.4332290256],[-2.2416356774,49.8001190708],[-1.6744500959,49.8244431748],[-1.6393523004,49.4572414478],[-2.2023237188,49.4332290256]]],[[[-1.0891527956,42.4729792272],[-1.1133721143,42.8409034744],[-0.6132113551,42.8578049815],[-0.591920381,42.4896657133],[-1.0891527956,42.4729792272]]],[[[-1.1133721143,42.8409034744],[-1.1380508382,43.2087927257],[-0.6349064918,43.2259117899],[-0.6132113551,42.8578049815],[-1.1133721143,42.8409034744]]],[[[-1.1380508382,43.2087927257],[-1.1631992884,43.5766466809],[-0.6570148834,43.5939859022],[-0.6349064918,43.2259117899],[-1.1380508382,43.2087927257]]],[[[-1.1631992884,43.5766466809],[-1.1888281211,43.9444650349],[-0.6795459182,43.9620270795],[-0.6570148834,43.5939859022],[-1.1631992884,43.5766466809]]],[[[-1.1888281211,43.9444650349],[-1.2149483408,44.3122474777],[-0.7025092918,44.3300350794],[-0.6795459182,43.9620270795],[-1.1888281211,43.9444650349]]],[[[-1.2149483408,44.3122474777],[-1.2415713146,44.6799936934],[-0.7259150196,44.6980096565],[-0.7025092918,44.3300350794],[-1.2149483408,44.3122474777]]],[[[-1.2415713146,44.6799936934],[-1.2687087864,45.0477033604],[-0.7497734497,45.0659505616],[-0.7259150196,44.6980096565],[-1.2415713146,44.6799936934]]],[[[-1.2687087864,45.0477033604],[-1.2963728926,45.4153761509],[-0.7740952764,45.4338575413],[-0.7497734497,45.0659505616],[-1.2687087864,45.0477033604]]],[[[-1.2963728926,45.4153761509],[-1.3245761777,45.78301173],[-0.7988915546,45.8017303382],[-0.7740952764,45.4338575413],[-1.2963728926,45.4153761509]]],[[[-1.3245761777,45.78301173],[-1.3533316119,46.1506097558],[-0.8241737146,46.1695686899],[-0.7988915546,45.8017303382],[-1.3245761777,45.78301173]]],[[[-1.3533316119,46.1506097558],[-1.3826526082,46.5181698788],[-0.849953578,46.5373723291],[-0.8241737146,46.1695686899],[-1.3533316119,46.1506097558]]],[[[-1.3826526082,46.5181698788],[-1.4125530415,46.8856917411],[-0.8762433737,46.905140983],[-0.849953578,46.5373723291],[-1.3826526082,46.5181698788]]],[[[-1.4125530415,46.8856917411],[-1.4430472679,47.2531749761],[-0.9030557561,47.2728743731],[-0.8762433737,46.905140983],[-1.4125530415,46.8856917411]]],[[[-1.4430472679,47.2531749761],[-1.4741501454,47.6206192082],[-0.9304038224,47.6405722143],[-0.9030557561,47.2728743731],[-1.4430472679,47.2531749761]]],[[[-1.4741501454,47.6206192082],[-1.5058770558,47.9880240518],[-0.9583011325,48.008234215],[-0.9304038224,47.6405722143],[-1.4741501454,47.6206192082]]],[[[-1.5058770558,47.9880240518],[-1.5382439273,48.3553891106],[-0.986761729,48.3758600764],[-0.9583011325,48.008234215],[-1.5058770558,47.9880240518]]],[[[-1.5382439273,48.3553891106],[-1.5712672584,48.7227139776],[-1.0158001583,48.7434494919],[-0.986761729,48.3758600764],[-1.5382439273,48.3553891106]]],[[[-1.5712672584,48.7227139776],[-1.6049641438,49.0899982338],[-1.0454314932,49.1110021466],[-1.0158001583,48.7434494919],[-1.5712672584,48.7227139776]]],[[[-1.6049641438,49.0899982338],[-1.6393523004,49.4572414478],[-1.0756713565,49.4785177168],[-1.0454314932,49.1110021466],[-1.6049641438,49.0899982338]]],[[[-1.6393523004,49.4572414478],[-1.6744500959,49.8244431748],[-1.1065359461,49.8459958697],[-1.0756713565,49.4785177168],[-1.6393523004,49.4572414478]]],[[[-0.591920381,42.4896657133],[-0.6132113551,42.8578049815],[-0.1126464808,42.8725244745],[-0.0942926575,42.5041978515],[-0.591920381,42.4896657133]]],[[[-0.6132113551,42.8578049815],[-0.6349064918,43.2259117899],[-0.1313489396,43.2408208511],[-0.1126464808,42.8725244745],[-0.6132113551,42.8578049815]]],[[[-0.6349064918,43.2259117899],[-0.6570148834,43.5939859022],[-0.1504078865,43.6090868011],[-0.1313489396,43.2408208511],[-0.6349064918,43.2259117899]]],[[[-0.6570148834,43.5939859022],[-0.6795459182,43.9620270795],[-0.1698314299,43.9773221431],[-0.1504078865,43.6090868011],[-0.6570148834,43.5939859022]]],[[[-0.6795459182,43.9620270795],[-0.7025092918,44.3300350794],[-0.1896279441,44.3455266943],[-0.1698314299,43.9773221431],[-0.6795459182,43.9620270795]]],[[[-0.7025092918,44.3300350794],[-0.7259150196,44.6980096565],[-0.2098060801,44.7137002707],[-0.1896279441,44.3455266943],[-0.7025092918,44.3300350794]]],[[[-0.7259150196,44.6980096565],[-0.7497734497,45.0659505616],[-0.2303747764,45.0818426862],[-0.2098060801,44.7137002707],[-0.7259150196,44.6980096565]]],[[[-0.7497734497,45.0659505616],[-0.7740952764,45.4338575413],[-0.2513432713,45.449953753],[-0.2303747764,45.0818426862],[-0.7497734497,45.0659505616]]],[[[-0.7740952764,45.4338575413],[-0.7988915546,45.8017303382],[-0.2727211148,45.8180332809],[-0.2513432713,45.449953753],[-0.7740952764,45.4338575413]]],[[[-0.7988915546,45.8017303382],[-0.8241737146,46.1695686899],[-0.294518182,46.1860810774],[-0.2727211148,45.8180332809],[-0.7988915546,45.8017303382]]],[[[-0.8241737146,46.1695686899],[-0.849953578,46.5373723291],[-0.3167446861,46.5540969471],[-0.294518182,46.1860810774],[-0.8241737146,46.1695686899]]],[[[-0.849953578,46.5373723291],[-0.8762433737,46.905140983],[-0.3394111932,46.9220806916],[-0.3167446861,46.5540969471],[-0.849953578,46.5373723291]]],[[[-0.8762433737,46.905140983],[-0.9030557561,47.2728743731],[-0.3625286374,47.2900321091],[-0.3394111932,46.9220806916],[-0.8762433737,46.905140983]]],[[[-0.9030557561,47.2728743731],[-0.9304038224,47.6405722143],[-0.386108336,47.6579509943],[-0.3625286374,47.2900321091],[-0.9030557561,47.2728743731]]],[[[-0.9304038224,47.6405722143],[-0.9583011325,48.008234215],[-0.4101620069,48.0258371377],[-0.386108336,47.6579509943],[-0.9304038224,47.6405722143]]],[[[-0.9583011325,48.008234215],[-0.986761729,48.3758600764],[-0.4347017857,48.3936903255],[-0.4101620069,48.0258371377],[-0.9583011325,48.008234215]]],[[[-0.986761729,48.3758600764],[-1.0158001583,48.7434494919],[-0.4597402441,48.7615103391],[-0.4347017857,48.3936903255],[-0.986761729,48.3758600764]]],[[[-1.0158001583,48.7434494919],[-1.0454314932,49.1110021466],[-0.4852904098,49.1292969549],[-0.4597402441,48.7615103391],[-1.0158001583,48.7434494919]]],[[[-1.0454314932,49.1110021466],[-1.0756713565,49.4785177168],[-0.5113657866,49.4970499436],[-0.4852904098,49.1292969549],[-1.0454314932,49.1110021466]]],[[[-1.0756713565,49.4785177168],[-1.1065359461,49.8459958697],[-0.537980376,49.86476907],[-0.5113657866,49.4970499436],[-1.0756713565,49.4785177168]]],[[[-0.0942926575,42.5041978515],[-0.1126464808,42.8725244745],[0.3882669879,42.885057391],[0.4036760554,42.5165711763],[-0.0942926575,42.5041978515]]],[[[-0.1126464808,42.8725244745],[-0.1313489396,43.2408208511],[0.3725650581,43.2535152476],[0.3882669879,42.885057391],[-0.1126464808,42.8725244745]]],[[[-0.1313489396,43.2408208511],[-0.1504078865,43.6090868011],[0.3565636626,43.6219446136],[0.3725650581,43.2535152476],[-0.1313489396,43.2408208511]]],[[[-0.1504078865,43.6090868011],[-0.1698314299,43.9773221431],[0.3402559831,43.9903453569],[0.3565636626,43.6219446136],[-0.1504078865,43.6090868011]]],[[[-0.1698314299,43.9773221431],[-0.1896279441,44.3455266943],[0.3236349773,44.3587173456],[0.3402559831,43.9903453569],[-0.1698314299,43.9773221431]]],[[[-0.1896279441,44.3455266943],[-0.2098060801,44.7137002707],[0.30669337,44.7270604478],[0.3236349773,44.3587173456],[-0.1896279441,44.3455266943]]],[[[-0.2098060801,44.7137002707],[-0.2303747764,45.0818426862],[0.2894236436,45.0953745318],[0.30669337,44.7270604478],[-0.2098060801,44.7137002707]]],[[[-0.2303747764,45.0818426862],[-0.2513432713,45.449953753],[0.2718180284,45.4636594655],[0.2894236436,45.0953745318],[-0.2303747764,45.0818426862]]],[[[-0.2513432713,45.449953753],[-0.2727211148,45.8180332809],[0.2538684922,45.8319151165],[0.2718180284,45.4636594655],[-0.2513432713,45.449953753]]],[[[-0.2727211148,45.8180332809],[-0.294518182,46.1860810774],[0.2355667289,46.2001413516],[0.2538684922,45.8319151165],[-0.2727211148,45.8180332809]]],[[[-0.294518182,46.1860810774],[-0.3167446861,46.5540969471],[0.2169041476,46.5683380372],[0.2355667289,46.2001413516],[-0.294518182,46.1860810774]]],[[[-0.3167446861,46.5540969471],[-0.3394111932,46.9220806916],[0.1978718603,46.9365050382],[0.2169041476,46.5683380372],[-0.3167446861,46.5540969471]]],[[[-0.3394111932,46.9220806916],[-0.3625286374,47.2900321091],[0.1784606692,47.3046422188],[0.1978718603,46.9365050382],[-0.3394111932,46.9220806916]]],[[[-0.3625286374,47.2900321091],[-0.386108336,47.6579509943],[0.1586610531,47.6727494415],[0.1784606692,47.3046422188],[-0.3625286374,47.2900321091]]],[[[-0.386108336,47.6579509943],[-0.4101620069,48.0258371377],[0.1384631539,48.0408265671],[0.1586610531,47.6727494415],[-0.386108336,47.6579509943]]],[[[-0.4101620069,48.0258371377],[-0.4347017857,48.3936903255],[0.1178567615,48.4088734545],[0.1384631539,48.0408265671],[-0.4101620069,48.0258371377]]],[[[-0.4347017857,48.3936903255],[-0.4597402441,48.7615103391],[0.0968312979,48.7768899606],[0.1178567615,48.4088734545],[-0.4347017857,48.3936903255]]],[[[-0.4597402441,48.7615103391],[-0.4852904098,49.1292969549],[0.0753758016,49.1448759395],[0.0968312979,48.7768899606],[-0.4597402441,48.7615103391]]],[[[-0.4852904098,49.1292969549],[-0.5113657866,49.4970499436],[0.0534789092,49.5128312427],[0.0753758016,49.1448759395],[-0.4852904098,49.1292969549]]],[[[-0.5113657866,49.4970499436],[-0.537980376,49.86476907],[0.0311288384,49.8807557186],[0.0534789092,49.5128312427],[-0.5113657866,49.4970499436]]],[[[0.4036760554,42.5165711763],[0.3882669879,42.885057391],[0.8894732846,42.8953998416],[0.9019312014,42.5267818806],[0.4036760554,42.5165711763]]],[[[0.3882669879,42.885057391],[0.3725650581,43.2535152476],[0.8767784854,43.2639910052],[0.8894732846,42.8953998416],[0.3882669879,42.885057391]]],[[[0.3725650581,43.2535152476],[0.3565636626,43.6219446136],[0.8638414585,43.6325552784],[0.8767784854,43.2639910052],[0.3725650581,43.2535152476]]],[[[0.3565636626,43.6219446136],[0.3402559831,43.9903453569],[0.8506566838,44.0010925699],[0.8638414585,43.6325552784],[0.3565636626,43.6219446136]]],[[[0.3402559831,43.9903453569],[0.3236349773,44.3587173456],[0.83721846,44.3696027898],[0.8506566838,44.0010925699],[0.3402559831,43.9903453569]]],[[[0.3236349773,44.3587173456],[0.30669337,44.7270604478],[0.823520897,44.7380858497],[0.83721846,44.3696027898],[0.3236349773,44.3587173456]]],[[[0.30669337,44.7270604478],[0.2894236436,45.0953745318],[0.8095579085,45.1065416625],[0.823520897,44.7380858497],[0.30669337,44.7270604478]]],[[[0.2894236436,45.0953745318],[0.2718180284,45.4636594655],[0.7953232036,45.4749701424],[0.8095579085,45.1065416625],[0.2894236436,45.0953745318]]],[[[0.2718180284,45.4636594655],[0.2538684922,45.8319151165],[0.7808102787,45.8433712048],[0.7953232036,45.4749701424],[0.2718180284,45.4636594655]]],[[[0.2538684922,45.8319151165],[0.2355667289,46.2001413516],[0.7660124082,46.2117447657],[0.7808102787,45.8433712048],[0.2538684922,45.8319151165]]],[[[0.2355667289,46.2001413516],[0.2169041476,46.5683380372],[0.7509226357,46.5800907423],[0.7660124082,46.2117447657],[0.2355667289,46.2001413516]]],[[[0.2169041476,46.5683380372],[0.1978718603,46.9365050382],[0.7355337639,46.9484090525],[0.7509226357,46.5800907423],[0.2169041476,46.5683380372]]],[[[0.1978718603,46.9365050382],[0.1784606692,47.3046422188],[0.7198383444,47.3166996147],[0.7355337639,46.9484090525],[0.1978718603,46.9365050382]]],[[[0.1784606692,47.3046422188],[0.1586610531,47.6727494415],[0.7038286666,47.6849623476],[0.7198383444,47.3166996147],[0.1784606692,47.3046422188]]],[[[0.1586610531,47.6727494415],[0.1384631539,48.0408265671],[0.6874967468,48.0531971703],[0.7038286666,47.6849623476],[0.1586610531,47.6727494415]]],[[[0.1384631539,48.0408265671],[0.1178567615,48.4088734545],[0.6708343157,48.421404002],[0.6874967468,48.0531971703],[0.1384631539,48.0408265671]]],[[[0.1178567615,48.4088734545],[0.0968312979,48.7768899606],[0.653832806,48.7895827619],[0.6708343157,48.421404002],[0.1178567615,48.4088734545]]],[[[0.0968312979,48.7768899606],[0.0753758016,49.1448759395],[0.636483339,49.1577333686],[0.653832806,48.7895827619],[0.0968312979,48.7768899606]]],[[[0.0753758016,49.1448759395],[0.0534789092,49.5128312427],[0.6187767105,49.5258557405],[0.636483339,49.1577333686],[0.0753758016,49.1448759395]]],[[[0.0534789092,49.5128312427],[0.0311288384,49.8807557186],[0.6007033762,49.8939497953],[0.6187767105,49.5258557405],[0.0534789092,49.5128312427]]],[[[0.9141574135,42.158137217],[0.9019312014,42.5267818806],[1.4004180251,42.5348268196],[1.409742833,42.1660795243],[0.9141574135,42.158137217]]],[[[0.9019312014,42.5267818806],[0.8894732846,42.8953998416],[1.3909164356,42.9035486132],[1.4004180251,42.5348268196],[0.9019312014,42.5267818806]]],[[[0.8894732846,42.8953998416],[0.8767784854,43.2639910052],[1.3812341116,43.2722448406],[1.3909164356,42.9035486132],[0.8894732846,42.8953998416]]],[[[0.8767784854,43.2639910052],[0.8638414585,43.6325552784],[1.3713669719,43.6409154401],[1.3812341116,43.2722448406],[0.8767784854,43.2639910052]]],[[[0.8638414585,43.6325552784],[0.8506566838,44.0010925699],[1.361310802,44.0095603525],[1.3713669719,43.6409154401],[0.8638414585,43.6325552784]]],[[[0.8506566838,44.0010925699],[0.83721846,44.3696027898],[1.351061249,44.3781795211],[1.361310802,44.0095603525],[0.8506566838,44.0010925699]]],[[[0.83721846,44.3696027898],[0.823520897,44.7380858497],[1.3406138156,44.7467728919],[1.351061249,44.3781795211],[0.83721846,44.3696027898]]],[[[0.823520897,44.7380858497],[0.8095579085,45.1065416625],[1.3299638544,45.1153404131],[1.3406138156,44.7467728919],[0.823520897,44.7380858497]]],[[[0.8095579085,45.1065416625],[0.7953232036,45.4749701424],[1.319106562,45.4838820353],[1.3299638544,45.1153404131],[0.8095579085,45.1065416625]]],[[[0.7953232036,45.4749701424],[0.7808102787,45.8433712048],[1.3080369722,45.8523977116],[1.319106562,45.4838820353],[0.7953232036,45.4749701424]]],[[[0.7808102787,45.8433712048],[0.7660124082,46.2117447657],[1.2967499493,46.2208873971],[1.3080369722,45.8523977116],[0.7808102787,45.8433712048]]],[[[0.7660124082,46.2117447657],[0.7509226357,46.5800907423],[1.2852401813,46.5893510492],[1.2967499493,46.2208873971],[0.7660124082,46.2117447657]]],[[[0.7509226357,46.5800907423],[0.7355337639,46.9484090525],[1.2735021717,46.9577886272],[1.2852401813,46.5893510492],[0.7509226357,46.5800907423]]],[[[0.7355337639,46.9484090525],[0.7198383444,47.3166996147],[1.2615302323,47.3262000926],[1.2735021717,46.9577886272],[0.7355337639,46.9484090525]]],[[[0.7198383444,47.3166996147],[0.7038286666,47.6849623476],[1.2493184747,47.6945854086],[1.2615302323,47.3262000926],[0.7198383444,47.3166996147]]],[[[0.7038286666,47.6849623476],[0.6874967468,48.0531971703],[1.2368608014,48.0629445403],[1.2493184747,47.6945854086],[0.7038286666,47.6849623476]]],[[[0.6874967468,48.0531971703],[0.6708343157,48.421404002],[1.2241508967,48.4312774545],[1.2368608014,48.0629445403],[0.6874967468,48.0531971703]]],[[[0.6708343157,48.421404002],[0.653832806,48.7895827619],[1.2111822171,48.7995841194],[1.2241508967,48.4312774545],[0.6708343157,48.421404002]]],[[[0.653832806,48.7895827619],[0.636483339,49.1577333686],[1.1979479812,49.167864505],[1.2111822171,48.7995841194],[0.653832806,48.7895827619]]],[[[0.636483339,49.1577333686],[0.6187767105,49.5258557405],[1.1844411584,49.5361185825],[1.1979479812,49.167864505],[0.636483339,49.1577333686]]],[[[0.6187767105,49.5258557405],[0.6007033762,49.8939497953],[1.1706544583,49.9043463241],[1.1844411584,49.5361185825],[0.6187767105,49.5258557405]]],[[[0.6007033762,49.8939497953],[0.5822534357,50.2620154498],[1.1565803181,50.2725477035],[1.1706544583,49.9043463241],[0.6007033762,49.8939497953]]],[[[1.409742833,42.1660795243],[1.4004180251,42.5348268196],[1.8990816098,42.5407035131],[1.9055011847,42.1718812308],[1.409742833,42.1660795243]]],[[[1.4004180251,42.5348268196],[1.3909164356,42.9035486132],[1.8925402998,42.9095011718],[1.8990816098,42.5407035131],[1.4004180251,42.5348268196]]],[[[1.3909164356,42.9035486132],[1.3812341116,43.2722448406],[1.8858745312,43.2782741646],[1.8925402998,42.9095011718],[1.3909164356,42.9035486132]]],[[[1.3812341116,43.2722448406],[1.3713669719,43.6409154401],[1.8790814923,43.6470224525],[1.8858745312,43.2782741646],[1.3812341116,43.2722448406]]],[[[1.3713669719,43.6409154401],[1.361310802,44.0095603525],[1.8721582794,44.0157460001],[1.8790814923,43.6470224525],[1.3713669719,43.6409154401]]],[[[1.361310802,44.0095603525],[1.351061249,44.3781795211],[1.8651018935,44.3844447748],[1.8721582794,44.0157460001],[1.361310802,44.0095603525]]],[[[1.351061249,44.3781795211],[1.3406138156,44.7467728919],[1.8579092358,44.7531187477],[1.8651018935,44.3844447748],[1.351061249,44.3781795211]]],[[[1.3406138156,44.7467728919],[1.3299638544,45.1153404131],[1.8505771044,45.1217678929],[1.8579092358,44.7531187477],[1.3406138156,44.7467728919]]],[[[1.3299638544,45.1153404131],[1.319106562,45.4838820353],[1.8431021895,45.4903921879],[1.8505771044,45.1217678929],[1.3299638544,45.1153404131]]],[[[1.319106562,45.4838820353],[1.3080369722,45.8523977116],[1.8354810693,45.8589916131],[1.8431021895,45.4903921879],[1.319106562,45.4838820353]]],[[[1.3080369722,45.8523977116],[1.2967499493,46.2208873971],[1.8277102051,46.2275661522],[1.8354810693,45.8589916131],[1.3080369722,45.8523977116]]],[[[1.2967499493,46.2208873971],[1.2852401813,46.5893510492],[1.8197859363,46.5961157921],[1.8277102051,46.2275661522],[1.2967499493,46.2208873971]]],[[[1.2852401813,46.5893510492],[1.2735021717,46.9577886272],[1.8117044758,46.9646405226],[1.8197859363,46.5961157921],[1.2852401813,46.5893510492]]],[[[1.2735021717,46.9577886272],[1.2615302323,47.3262000926],[1.8034619036,47.3331403364],[1.8117044758,46.9646405226],[1.2735021717,46.9577886272]]],[[[1.2615302323,47.3262000926],[1.2493184747,47.6945854086],[1.7950541621,47.7016152295],[1.8034619036,47.3331403364],[1.2615302323,47.3262000926]]],[[[1.2493184747,47.6945854086],[1.2368608014,48.0629445403],[1.7864770493,48.0700652006],[1.7950541621,47.7016152295],[1.2493184747,47.6945854086]]],[[[1.2368608014,48.0629445403],[1.2241508967,48.4312774545],[1.7777262128,48.4384902513],[1.7864770493,48.0700652006],[1.2368608014,48.0629445403]]],[[[1.2241508967,48.4312774545],[1.2111822171,48.7995841194],[1.7687971432,48.806890386],[1.7777262128,48.4384902513],[1.2241508967,48.4312774545]]],[[[1.2111822171,48.7995841194],[1.1979479812,49.167864505],[1.7596851668,49.1752656119],[1.7687971432,48.806890386],[1.2111822171,48.7995841194]]],[[[1.1979479812,49.167864505],[1.1844411584,49.5361185825],[1.7503854383,49.5436159388],[1.7596851668,49.1752656119],[1.1979479812,49.167864505]]],[[[1.1844411584,49.5361185825],[1.1706544583,49.9043463241],[1.7408929329,49.9119413793],[1.7503854383,49.5436159388],[1.1844411584,49.5361185825]]],[[[1.1706544583,49.9043463241],[1.1565803181,50.2725477035],[1.7312024384,50.2802419484],[1.7408929329,49.9119413793],[1.1706544583,49.9043463241]]],[[[1.1565803181,50.2725477035],[1.1422108903,50.6407226951],[1.7213085457,50.6485176637],[1.7312024384,50.2802419484],[1.1565803181,50.2725477035]]],[[[1.1422108903,50.6407226951],[1.1275380292,51.0088712741],[1.7112056403,51.0167685451],[1.7213085457,50.6485176637],[1.1422108903,50.6407226951]]]]}`,
		}
	)

	var (
		itShouldNotReturnAnError = func() {
			It("it should not return an error", func() {
				Expect(returnedError).To(BeNil())
			})
		}
	)

	Describe("Cover", func() {
		var (
			gr          grid.Grid
			aoi         *geom.MultiPolygon
			cellsuri    []string
			cellswanted []string
		)

		JustBeforeEach(func() {
			godal.RegisterAll()
			uris, err := gr.Covers(ctx, aoi)
			cellsuri = nil
			if err != nil {
				returnedError = err
			} else {
				for uri := range uris {
					cellsuri = append(cellsuri, uri.URI)
				}
			}
		})

		for configuration := 0; configuration <= 2; configuration++ {
			configuration := configuration

			Describe(fmt.Sprintf("Multipolygon (configuration: %d)", configuration), func() {
				BeforeEach(func() {
					switch configuration {
					case 0:
						gr, _ = createRegularGrid(1024, 30, 0, 0, -1)
						aoi = toMultiPolygon([][2]float64{{5.8, 45.1}, {5.8, 44.5}, {6.6, 44.5}, {6.6, 45.1}, {5.8, 45.1}})
					case 1:
						gr, _ = createRegularGrid(1024, 30, 720298, 4997873, -1)
						aoi = toMultiPolygon([][2]float64{{5.8, 45.1}, {5.8, 44.5}, {6.6, 44.5}, {6.6, 45.1}, {5.8, 45.1}})
					case 2:
						gr, _ = createRegularGrid(4096, 10, 0, 0, -1)
						ds, _ := godal.Open("test_data/france.geojson")
						gwkb, _ := ds.Layers()[0].NextFeature().Geometry().WKB()
						ds.Close()
						aoig, _ := wkb.Unmarshal(gwkb)
						aoi = aoig.(*geom.MultiPolygon)
					}
					cellswanted = cellsURIs[configuration]
				})

				Context("Return cell URIS", func() {
					itShouldNotReturnAnError()
					It("it should return the right cells uris", func() {
						sort.Slice(cellsuri, func(i, j int) bool { return cellsuri[i] < cellsuri[j] })
						Expect(cellsuri).To(Equal(cellswanted))
					})
				})
			})
		}
	})
	Describe("Cover with memory limit", func() {
		var (
			gr  grid.Grid
			aoi *geom.MultiPolygon
		)

		JustBeforeEach(func() {
			godal.RegisterAll()
			_, returnedError = gr.Covers(ctx, aoi)
		})

		Describe("below requirements", func() {
			BeforeEach(func() {
				gr, _ = createRegularGrid(1024, 30, 0, 0, 10)
				aoi = toMultiPolygon([][2]float64{{5.8, 45.1}, {5.8, 44.5}, {6.6, 44.5}, {6.6, 45.1}, {5.8, 45.1}})
			})

			Context("Fail", func() {
				It("it should return an error", func() {
					Expect(returnedError).NotTo(BeNil())
				})
			})
		})

		Describe("above requirements", func() {
			BeforeEach(func() {
				gr, _ = createRegularGrid(1024, 30, 0, 0, 60)
				aoi = toMultiPolygon([][2]float64{{5.8, 45.1}, {5.8, 44.5}, {6.6, 44.5}, {6.6, 45.1}, {5.8, 45.1}})
			})

			Context("Success", func() {
				itShouldNotReturnAnError()
			})
		})
	})
	Describe("Cell", func() {
		var (
			gr                       grid.Grid
			cellsuri                 []string
			returnedJson, jsonWanted string
		)

		JustBeforeEach(func() {
			returnedJson, returnedError = grid.CellsToJSON(gr, cellsuri)
		})

		for configuration := 0; configuration <= 2; configuration++ {
			configuration := configuration

			Describe(fmt.Sprintf("CellUris (configuration: %d)", configuration), func() {
				BeforeEach(func() {
					switch configuration {
					case 0:
						gr, _ = createRegularGrid(1024, 30, 0, 0, -1)
					case 1:
						gr, _ = createRegularGrid(1024, 30, 720298, 4997873, -1)
					case 2:
						gr, _ = createRegularGrid(4096, 10, 0, 0, -1)
					}
					cellsuri = cellsURIs[configuration]
					jsonWanted = jsonWanteds[configuration]
				})

				Context("Return Json", func() {
					itShouldNotReturnAnError()
					It("it should match the json", func() {
						returnedJSONFeature := `{"type":"Feature","properties":{},"geometry":` + returnedJson + `}`
						var inputFeature geomGeojson.Feature
						if err := json.Unmarshal([]byte(returnedJSONFeature), &inputFeature); err != nil {
							panic(err)
						}

						wantedJSONFeature := `{"type":"Feature","properties":{},"geometry":` + jsonWanted + `}`
						var wantedFeature geomGeojson.Feature
						if err := json.Unmarshal([]byte(wantedJSONFeature), &wantedFeature); err != nil {
							panic(err)
						}

						inputBEncoded, err := geomGeojson.Marshal(inputFeature.Geometry, geomGeojson.EncodeGeometryWithMaxDecimalDigits(10))
						if err != nil {
							panic(err)
						}
						wantedEncoded, err := geomGeojson.Marshal(wantedFeature.Geometry, geomGeojson.EncodeGeometryWithMaxDecimalDigits(10))
						if err != nil {
							panic(err)
						}
						Expect(string(inputBEncoded)).To(MatchJSON(string(wantedEncoded)))
					})
				})
			})
		}
	})
})
